(function(e,t,n){"use strict";function $(n){u=t.documentElement;a=t.body;z();bt=this;n=n||{};Ct=n.constants||{};if(n.easing){for(var r in n.easing){V[r]=n.easing[r]}}qt=n.edgeStrategy||"set";St={beforerender:n.beforerender,render:n.render,keyframe:n.keyframe};xt=n.forceHeight!==false;if(xt){Nt=n.scale||1}kt=n.mobileDeceleration||x;Ht=n.smoothScrolling!==false;Bt=n.smoothScrollingDuration||T;jt={targetTop:bt.getScrollTop()};Rt=(n.mobileCheck||function(){return/Android|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent||navigator.vendor||e.opera)})();if(Rt){Et=t.getElementById("skrollr-body");if(Et){st()}J();dt(u,[g,w],[y])}else{dt(u,[g,b],[y])}bt.refresh();ot(e,"resize orientationchange",function(){var e=u.clientWidth;var t=u.clientHeight;if(t!==_t||e!==Mt){_t=t;Mt=e;Dt=true}});var i=W();(function s(){G();Xt=i(s)})();return bt}var r={get:function(){return bt},init:function(e){return bt||new $(e)},VERSION:"0.6.26"};var i=Object.prototype.hasOwnProperty;var s=e.Math;var o=e.getComputedStyle;var u;var a;var f="touchstart";var l="touchmove";var c="touchcancel";var h="touchend";var p="skrollable";var d=p+"-before";var v=p+"-between";var m=p+"-after";var g="skrollr";var y="no-"+g;var b=g+"-desktop";var w=g+"-mobile";var E="linear";var S=1e3;var x=.004;var T=200;var N="start";var C="end";var k="center";var L="bottom";var A="___skrollable_id";var O=/^(?:input|textarea|button|select)$/i;var M=/^\s+|\s+$/g;var _=/^data(?:-(_\w+))?(?:-?(-?\d*\.?\d+p?))?(?:-?(start|end|top|center|bottom))?(?:-?(top|center|bottom))?$/;var D=/\s*(@?[\w\-\[\]]+)\s*:\s*(.+?)\s*(?:;|$)/gi;var P=/^(@?[a-z\-]+)\[(\w+)\]$/;var H=/-([a-z0-9_])/g;var B=function(e,t){return t.toUpperCase()};var j=/[\-+]?[\d]*\.?[\d]+/g;var F=/\{\?\}/g;var I=/rgba?\(\s*-?\d+\s*,\s*-?\d+\s*,\s*-?\d+/g;var q=/[a-z\-]+-gradient/g;var R="";var U="";var z=function(){var e=/^(?:O|Moz|webkit|ms)|(?:-(?:o|moz|webkit|ms)-)/;if(!o){return}var t=o(a,null);for(var n in t){R=n.match(e)||+n==n&&t[n].match(e);if(R){break}}if(!R){R=U="";return}R=R[0];if(R.slice(0,1)==="-"){U=R;R={"-webkit-":"webkit","-moz-":"Moz","-ms-":"ms","-o-":"O"}[R]}else{U="-"+R.toLowerCase()+"-"}};var W=function(){var t=e.requestAnimationFrame||e[R.toLowerCase()+"RequestAnimationFrame"];var n=gt();if(Rt||!t){t=function(t){var r=gt()-n;var i=s.max(0,1e3/60-r);return e.setTimeout(function(){n=gt();t()},i)}}return t};var X=function(){var t=e.cancelAnimationFrame||e[R.toLowerCase()+"CancelAnimationFrame"];if(Rt||!t){t=function(t){return e.clearTimeout(t)}}return t};var V={begin:function(){return 0},end:function(){return 1},linear:function(e){return e},quadratic:function(e){return e*e},cubic:function(e){return e*e*e},swing:function(e){return-s.cos(e*s.PI)/2+.5},sqrt:function(e){return s.sqrt(e)},outCubic:function(e){return s.pow(e-1,3)+1},bounce:function(e){var t;if(e<=.5083){t=3}else if(e<=.8489){t=9}else if(e<=.96208){t=27}else if(e<=.99981){t=91}else{return 1}return 1-s.abs(3*s.cos(e*t*1.028)/t)}};$.prototype.refresh=function(e){var r;var i;var s=false;if(e===n){s=true;wt=[];It=0;e=t.getElementsByTagName("*")}else if(e.length===n){e=[e]}r=0;i=e.length;for(;r<i;r++){var o=e[r];var u=o;var a=[];var f=Ht;var l=qt;var c=false;if(s&&A in o){delete o[A]}if(!o.attributes){continue}var h=0;var d=o.attributes.length;for(;h<d;h++){var v=o.attributes[h];if(v.name==="data-anchor-target"){u=t.querySelector(v.value);if(u===null){throw'Unable to find anchor target "'+v.value+'"'}continue}if(v.name==="data-smooth-scrolling"){f=v.value!=="off";continue}if(v.name==="data-edge-strategy"){l=v.value;continue}if(v.name==="data-emit-events"){c=true;continue}var m=v.name.match(_);if(m===null){continue}var g={props:v.value,element:o,eventType:v.name.replace(H,B)};a.push(g);var y=m[1];if(y){g.constant=y.substr(1)}var b=m[2];if(/p$/.test(b)){g.isPercentage=true;g.offset=(b.slice(0,-1)|0)/100}else{g.offset=b|0}var w=m[3];var E=m[4]||w;if(!w||w===N||w===C){g.mode="absolute";if(w===C){g.isEnd=true}else if(!g.isPercentage){g.offset=g.offset*Nt}}else{g.mode="relative";g.anchors=[w,E]}}if(!a.length){continue}var S,x;var T;if(!s&&A in o){T=o[A];S=wt[T].styleAttr;x=wt[T].classAttr}else{T=o[A]=It++;S=o.style.cssText;x=pt(o)}wt[T]={element:o,styleAttr:S,classAttr:x,anchorTarget:u,keyFrames:a,smoothScrolling:f,edgeStrategy:l,emitEvents:c,lastFrameIndex:-1};dt(o,[p],[])}lt();r=0;i=e.length;for(;r<i;r++){var k=wt[e[r][A]];if(k===n){continue}Y(k);et(k)}return bt};$.prototype.relativeToAbsolute=function(e,t,n){var r=u.clientHeight;var i=e.getBoundingClientRect();var s=i.top;var o=i.bottom-i.top;if(t===L){s-=r}else if(t===k){s-=r/2}if(n===L){s+=o}else if(n===k){s+=o/2}s+=bt.getScrollTop();return s+.5|0};$.prototype.animateTo=function(e,t){t=t||{};var r=gt();var i=bt.getScrollTop();Pt={startTop:i,topDiff:e-i,targetTop:e,duration:t.duration||S,startTime:r,endTime:r+(t.duration||S),easing:V[t.easing||E],done:t.done};if(!Pt.topDiff){if(Pt.done){Pt.done.call(bt,false)}Pt=n}return bt};$.prototype.stopAnimateTo=function(){if(Pt&&Pt.done){Pt.done.call(bt,true)}Pt=n};$.prototype.isAnimatingTo=function(){return!!Pt};$.prototype.isMobile=function(){return Rt};$.prototype.setScrollTop=function(t,n){Ft=n===true;if(Rt){Ut=s.min(s.max(t,0),Tt)}else{e.scrollTo(0,t)}return bt};$.prototype.getScrollTop=function(){if(Rt){return Ut}else{return e.pageYOffset||u.scrollTop||a.scrollTop||0}};$.prototype.getMaxScrollTop=function(){return Tt};$.prototype.on=function(e,t){St[e]=t;return bt};$.prototype.off=function(e){delete St[e];return bt};$.prototype.destroy=function(){var e=X();e(Xt);at();dt(u,[y],[g,b,w]);var t=0;var i=wt.length;for(;t<i;t++){it(wt[t].element)}u.style.overflow=a.style.overflow="";u.style.height=a.style.height="";if(Et){r.setStyle(Et,"transform","none")}bt=n;Et=n;St=n;xt=n;Tt=0;Nt=1;Ct=n;kt=n;Lt="down";At=-1;Mt=0;_t=0;Dt=false;Pt=n;Ht=n;Bt=n;jt=n;Ft=n;It=0;qt=n;Rt=false;Ut=0;zt=n};var J=function(){var r;var i;var o;var p;var d;var v;var m;var g;var y;var b;var w;var E;ot(u,[f,l,c,h].join(" "),function(e){var u=e.changedTouches[0];p=e.target;while(p.nodeType===3){p=p.parentNode}d=u.clientY;v=u.clientX;b=e.timeStamp;if(!O.test(p.tagName)){e.preventDefault()}switch(e.type){case f:if(r){r.blur()}bt.stopAnimateTo();r=p;i=m=d;o=v;y=b;break;case l:if(O.test(p.tagName)&&t.activeElement!==p){e.preventDefault()}g=d-m;E=b-w;bt.setScrollTop(Ut-g,true);m=d;w=b;break;default:case c:case h:var a=i-d;var S=o-v;var x=S*S+a*a;if(x<49){if(!O.test(r.tagName)){r.focus();var T=t.createEvent("MouseEvents");T.initMouseEvent("click",true,true,e.view,1,u.screenX,u.screenY,u.clientX,u.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null);r.dispatchEvent(T)}return}r=n;var N=g/E;N=s.max(s.min(N,3),-3);var C=s.abs(N/kt);var k=N*C+.5*kt*C*C;var L=bt.getScrollTop()-k;var A=0;if(L>Tt){A=(Tt-L)/k;L=Tt}else if(L<0){A=-L/k;L=0}C=C*(1-A);bt.animateTo(L+.5|0,{easing:"outCubic",duration:C});break}});e.scrollTo(0,0);u.style.overflow=a.style.overflow="hidden"};var K=function(){var e=u.clientHeight;var t=ct();var n;var r;var i;var o;var a;var f;var l;var c;var h;var p;var d;c=0;h=wt.length;for(;c<h;c++){n=wt[c];r=n.element;i=n.anchorTarget;o=n.keyFrames;a=0;f=o.length;for(;a<f;a++){l=o[a];p=l.offset;d=t[l.constant]||0;l.frame=p;if(l.isPercentage){p=p*e;l.frame=p}if(l.mode==="relative"){it(r);l.frame=bt.relativeToAbsolute(i,l.anchors[0],l.anchors[1])-p;it(r,true)}l.frame+=d;if(xt){if(!l.isEnd&&l.frame>Tt){Tt=l.frame}}}}Tt=s.max(Tt,ht());c=0;h=wt.length;for(;c<h;c++){n=wt[c];o=n.keyFrames;a=0;f=o.length;for(;a<f;a++){l=o[a];d=t[l.constant]||0;if(l.isEnd){l.frame=Tt-l.offset+d}}n.keyFrames.sort(yt)}};var Q=function(e,t){var n=0;var s=wt.length;for(;n<s;n++){var o=wt[n];var u=o.element;var a=o.smoothScrolling?e:t;var f=o.keyFrames;var l=f.length;var c=f[0];var h=f[f.length-1];var g=a<c.frame;var y=a>h.frame;var b=g?c:h;var w=o.emitEvents;var E=o.lastFrameIndex;var S;var x;if(g||y){if(g&&o.edge===-1||y&&o.edge===1){continue}if(g){dt(u,[d],[m,v]);if(w&&E>-1){ft(u,c.eventType,Lt);o.lastFrameIndex=-1}}else{dt(u,[m],[d,v]);if(w&&E<l){ft(u,h.eventType,Lt);o.lastFrameIndex=l}}o.edge=g?-1:1;switch(o.edgeStrategy){case"reset":it(u);continue;case"ease":a=b.frame;break;default:case"set":var T=b.props;for(S in T){if(i.call(T,S)){x=rt(T[S].value);if(S.indexOf("@")===0){u.setAttribute(S.substr(1),x)}else{r.setStyle(u,S,x)}}}continue}}else{if(o.edge!==0){dt(u,[p,v],[d,m]);o.edge=0}}var N=0;for(;N<l-1;N++){if(a>=f[N].frame&&a<=f[N+1].frame){var C=f[N];var k=f[N+1];for(S in C.props){if(i.call(C.props,S)){var L=(a-C.frame)/(k.frame-C.frame);L=C.props[S].easing(L);x=nt(C.props[S].value,k.props[S].value,L);x=rt(x);if(S.indexOf("@")===0){u.setAttribute(S.substr(1),x)}else{r.setStyle(u,S,x)}}}if(w){if(E!==N){if(Lt==="down"){ft(u,C.eventType,Lt)}else{ft(u,k.eventType,Lt)}o.lastFrameIndex=N}}break}}}};var G=function(){if(Dt){Dt=false;lt()}var e=bt.getScrollTop();var t;var i=gt();var s;if(Pt){if(i>=Pt.endTime){e=Pt.targetTop;t=Pt.done;Pt=n}else{s=Pt.easing((i-Pt.startTime)/Pt.duration);e=Pt.startTop+s*Pt.topDiff|0}bt.setScrollTop(e,true)}else if(!Ft){var o=jt.targetTop-e;if(o){jt={startTop:At,topDiff:e-At,targetTop:e,startTime:Ot,endTime:Ot+Bt}}if(i<=jt.endTime){s=V.sqrt((i-jt.startTime)/Bt);e=jt.startTop+s*jt.topDiff|0}}if(Rt&&Et){r.setStyle(Et,"transform","translate(0, "+ -Ut+"px) "+zt)}if(Ft||At!==e){Lt=e>At?"down":e<At?"up":Lt;Ft=false;var u={curTop:e,lastTop:At,maxTop:Tt,direction:Lt};var a=St.beforerender&&St.beforerender.call(bt,u);if(a!==false){Q(e,bt.getScrollTop());At=e;if(St.render){St.render.call(bt,u)}}if(t){t.call(bt,false)}}Ot=i};var Y=function(e){var t=0;var n=e.keyFrames.length;for(;t<n;t++){var r=e.keyFrames[t];var i;var s;var o;var u={};var a;while((a=D.exec(r.props))!==null){o=a[1];s=a[2];i=o.match(P);if(i!==null){o=i[1];i=i[2]}else{i=E}s=s.indexOf("!")?Z(s):[s.slice(1)];u[o]={value:s,easing:V[i]}}r.props=u}};var Z=function(e){var t=[];I.lastIndex=0;e=e.replace(I,function(e){return e.replace(j,function(e){return e/255*100+"%"})});if(U){q.lastIndex=0;e=e.replace(q,function(e){return U+e})}e=e.replace(j,function(e){t.push(+e);return"{?}"});t.unshift(e);return t};var et=function(e){var t={};var n;var r;n=0;r=e.keyFrames.length;for(;n<r;n++){tt(e.keyFrames[n],t)}t={};n=e.keyFrames.length-1;for(;n>=0;n--){tt(e.keyFrames[n],t)}};var tt=function(e,t){var n;for(n in t){if(!i.call(e.props,n)){e.props[n]=t[n]}}for(n in e.props){t[n]=e.props[n]}};var nt=function(e,t,n){var r;var i=e.length;if(i!==t.length){throw"Can't interpolate between \""+e[0]+'" and "'+t[0]+'"'}var s=[e[0]];r=1;for(;r<i;r++){s[r]=e[r]+(t[r]-e[r])*n}return s};var rt=function(e){var t=1;F.lastIndex=0;return e[0].replace(F,function(){return e[t++]})};var it=function(e,t){e=[].concat(e);var n;var r;var i=0;var s=e.length;for(;i<s;i++){r=e[i];n=wt[r[A]];if(!n){continue}if(t){r.style.cssText=n.dirtyStyleAttr;dt(r,n.dirtyClassAttr)}else{n.dirtyStyleAttr=r.style.cssText;n.dirtyClassAttr=pt(r);r.style.cssText=n.styleAttr;dt(r,n.classAttr)}}};var st=function(){zt="translateZ(0)";r.setStyle(Et,"transform",zt);var e=o(Et);var t=e.getPropertyValue("transform");var n=e.getPropertyValue(U+"transform");var i=t&&t!=="none"||n&&n!=="none";if(!i){zt=""}};r.setStyle=function(e,t,n){var r=e.style;t=t.replace(H,B).replace("-","");if(t==="zIndex"){if(isNaN(n)){r[t]=n}else{r[t]=""+(n|0)}}else if(t==="float"){r.styleFloat=r.cssFloat=n}else{try{if(R){r[R+t.slice(0,1).toUpperCase()+t.slice(1)]=n}r[t]=n}catch(i){}}};var ot=r.addEvent=function(t,n,r){var i=function(t){t=t||e.event;if(!t.target){t.target=t.srcElement}if(!t.preventDefault){t.preventDefault=function(){t.returnValue=false;t.defaultPrevented=true}}return r.call(this,t)};n=n.split(" ");var s;var o=0;var u=n.length;for(;o<u;o++){s=n[o];if(t.addEventListener){t.addEventListener(s,r,false)}else{t.attachEvent("on"+s,i)}Wt.push({element:t,name:s,listener:r})}};var ut=r.removeEvent=function(e,t,n){t=t.split(" ");var r=0;var i=t.length;for(;r<i;r++){if(e.removeEventListener){e.removeEventListener(t[r],n,false)}else{e.detachEvent("on"+t[r],n)}}};var at=function(){var e;var t=0;var n=Wt.length;for(;t<n;t++){e=Wt[t];ut(e.element,e.name,e.listener)}Wt=[]};var ft=function(e,t,n){if(St.keyframe){St.keyframe.call(bt,e,t,n)}};var lt=function(){var e=bt.getScrollTop();Tt=0;if(xt&&!Rt){a.style.height=""}K();if(xt&&!Rt){a.style.height=Tt+u.clientHeight+"px"}if(Rt){bt.setScrollTop(s.min(bt.getScrollTop(),Tt))}else{bt.setScrollTop(e,true)}Ft=true};var ct=function(){var e=u.clientHeight;var t={};var n;var r;for(n in Ct){r=Ct[n];if(typeof r==="function"){r=r.call(bt)}else if(/p$/.test(r)){r=r.slice(0,-1)/100*e}t[n]=r}return t};var ht=function(){var e=Et&&Et.offsetHeight||0;var t=s.max(e,a.scrollHeight,a.offsetHeight,u.scrollHeight,u.offsetHeight,u.clientHeight);return t-u.clientHeight};var pt=function(t){var n="className";if(e.SVGElement&&t instanceof e.SVGElement){t=t[n];n="baseVal"}return t[n]};var dt=function(t,r,i){var s="className";if(e.SVGElement&&t instanceof e.SVGElement){t=t[s];s="baseVal"}if(i===n){t[s]=r;return}var o=t[s];var u=0;var a=i.length;for(;u<a;u++){o=mt(o).replace(mt(i[u])," ")}o=vt(o);var f=0;var l=r.length;for(;f<l;f++){if(mt(o).indexOf(mt(r[f]))===-1){o+=" "+r[f]}}t[s]=vt(o)};var vt=function(e){return e.replace(M,"")};var mt=function(e){return" "+e+" "};var gt=Date.now||function(){return+(new Date)};var yt=function(e,t){return e.frame-t.frame};var bt;var wt;var Et;var St;var xt;var Tt=0;var Nt=1;var Ct;var kt;var Lt="down";var At=-1;var Ot=gt();var Mt=0;var _t=0;var Dt=false;var Pt;var Ht;var Bt;var jt;var Ft;var It=0;var qt;var Rt=false;var Ut=0;var zt;var Wt=[];var Xt;if(typeof define==="function"&&define.amd){define("skrollr",function(){return r})}else if(typeof module!=="undefined"&&module.exports){module.exports=r}else{e.skrollr=r}})(window,document)
